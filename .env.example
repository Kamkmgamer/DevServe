# Environment variables for DevServe
# Copy this file to .env (local dev) and configure secure values.
# For production, use a secrets manager (e.g., Docker Secrets, AWS Secrets Manager, Vault)
# and avoid storing real secrets in plain .env files.

# App
NODE_ENV=development
PORT=8000
CLIENT_URL=http://localhost:5173
SITE_URL=http://localhost:5173
# Comma-separated list of allowed CORS origins (in addition to localhost defaults)
# Example: CORS_ORIGINS=http://dev.example.com,https://admin.example.com
CORS_ORIGINS=

# JWT (Prefer RS256 with private/public key pair)
# If using RS256, provide keys below. For multi-line keys in .env, keep the literal \n where line breaks are.
# Example:
# JWT_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nMIIE...\n-----END PRIVATE KEY-----
# JWT_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----\nMIIB...\n-----END PUBLIC KEY-----
JWT_PRIVATE_KEY=
JWT_PUBLIC_KEY=
# Optional: JSON map of kid -> PEM public keys for rotation, e.g. {"2025-01":"-----BEGIN PUBLIC KEY-----\\nMIIB...\\n-----END PUBLIC KEY-----"}
JWT_PUBLIC_KEYS=
# Fallback HS256 secret (use only if RS256 keys not configured)
JWT_SECRET=change_me_dev_only
# Default token expiry (e.g., 12h, 1d)
JWT_EXPIRES_IN=12h
# Optional key id for rotation
JWT_KEY_ID=

# Database
# For Postgres (preferred):
# DATABASE_URL=postgresql://user:password@localhost:5432/devserve
DATABASE_URL=

# If using docker-compose Postgres service
POSTGRES_USER=
POSTGRES_DB=
# When using Docker secrets, provide password via file mounted at /run/secrets/postgres_password
# POSTGRES_PASSWORD is not required if POSTGRES_PASSWORD_FILE is used by the container

# Cookie/Session/CSRF
# Controls secure cookie behavior in production; typically do not change.
COOKIE_NAME=session
COOKIE_SECURE=true
COOKIE_SAMESITE=strict
ENABLE_CSRF=true

# Stripe
STRIPE_SECRET_KEY=

# PayPal
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=

# Email (Nodemailer)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_SECURE=false
SMTP_FROM="DevServe <no-reply@example.com>"

# OpenRouter/OpenAI
OPENROUTER_API_KEY=

# Logging
LOG_LEVEL=info
